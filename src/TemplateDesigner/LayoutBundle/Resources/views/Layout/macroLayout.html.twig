{% macro layout(parent,params,template) %}
    {% for child in parent.children %}
    	<{{child.tag}} class="{{child.cssClassesAsString}}">
            {% if child.custom !="" %}
                {% include template %}
    		{% elseif child.include is not null %}
                {% include child.include %}
    		{% elseif child.render is not null %}
                {% render(path(child.render))%}
    		{% endif %}
            {{_self.layout(child,params,template)}}
    	</{{child.tag}}>
    {% endfor %}
{% endmacro %}

{% import _self as layout %}
{# if root == true, display root container #}
{% if root is sameas(true) %}
    <{{parent.tag}} class="{{parent.cssClassesAsString}}">
{% endif %}

{{layout.layout(parent,params,template)}}

{% if root is sameas(true) %}
    </{{parent.tag}}>
{% endif %}